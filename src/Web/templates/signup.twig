{% extends "layout.twig" %}

{% block title %}Sign Up{% endblock %}

{% block css %}
	{{ parent() }}
{% endblock %}

{% block content %}
	<h1>Sign Up</h1>

	{% if errors.general %}
		<div class="error-message">{{ errors.general }}</div>
	{% endif %}

	<p>Enter your email address below to create an account. We'll send you a verification link to confirm your email address.</p>

	<form method="post" action="{{ route('signup') }}">
		<input type="hidden" name="csrf" value="{{ csrf }}">
		
		<div class="form-group">
			<label for="email">Email Address:</label>
			<input type="email" id="email" name="email" value="{{ data.email|default('') }}" required aria-required="true" />
			{% if errors.email %}
			<div class="invalid-feedback">
				{{ errors.email }}
			</div>
			{% endif %}
		</div>

		{% if captcha_image and captcha_checksum %}
		<div class="form-group captcha-container">
			<input type="hidden" name="checksum" value="{{ captcha_checksum }}"/>
			<img src="{{ captcha_image }}" class="captcha-image" alt="CAPTCHA verification code" aria-label="Please enter the code shown in this image"/>
			<label for="captcha-code">CAPTCHA code:</label>
			<input type="text" name="code" id="captcha-code" required inputmode="numeric" autocomplete="off" 
				   placeholder="Enter the code shown above" aria-label="CAPTCHA verification code input" value="" />
			{% if errors.captcha %}
			<div class="invalid-feedback">
				{{ errors.captcha }}
			</div>
			{% endif %}
		</div>
		{% endif %}

		<button type="submit">Continue</button>
	</form>
	
	<div class="mt-3 text-center">
		<p>Already have an account? <a href="{{ route('login') }}">Log in</a></p>
	</div>
{% endblock %}
