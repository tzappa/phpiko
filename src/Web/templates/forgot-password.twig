{% extends 'layout.twig' %}

{% set head_title = 'Forgot Password' %}

{% block css %}
	{{ parent() }}
{% endblock %}

{% block content %}
	<h1>Forgot Password</h1>

	{% if success %}
		<div class="success-message">{{ success }}</div>
	{% else %}
		{% if error %}
			<div class="error-message">{{ error }}</div>
		{% endif %}
		
        <p>Enter your email address below to receive a password reset link.</p>

        <form action="{{ route('forgot-password') }}" method="POST">
            <input type="hidden" name="csrf" value="{{ csrf }}" />

            <div class="form-group">
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" required aria-required="true" />
            </div>

            {% if captcha_image and captcha_checksum %}
            <div class="form-group captcha-container">
                <input type="hidden" name="checksum" value="{{ captcha_checksum }}"/>
                <img src="{{ captcha_image }}" class="captcha-image" alt="CAPTCHA verification code" aria-label="Please enter the code shown in this image"/>
                <label for="captcha-code">CAPTCHA code:</label>
                <input type="text" name="code" id="captcha-code" required inputmode="numeric" autocomplete="off" placeholder="Enter the code shown above" aria-label="CAPTCHA verification code input" value="" />
            </div>
            {% endif %}

            <button type="submit">Send Reset Link</button>
        </form>
    	<p><a href="{{ route('login') }}">Back to Login</a></p>
    {% endif %}

{% endblock %}
